<!DOCTYPE html>
<head>
	<meta charset="utf-8">
	<script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>
	<script type="text/javascript" src="data.js"></script>
	<script type="text/javascript" src="utils.js"></script>
	<script type="text/javascript" src="legendText.js"></script>
	<script type="text/javascript" src="legend.js"></script>
	<script type="text/javascript" src="svgDiagram.js"></script>
	<script type="text/javascript" src="mobileDiagram.js"></script>
	<script type="text/javascript" src="canvasDiagram.js"></script>
	<style>
		* {
			box-sizing: border-box;
		}

		body {
			margin: 0;
			position: fixed;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
		}

		svg {
			font-family: "Open Sans Hebrew", "Helvetica Neue", Helvetica, Arial, sans-serif;
			overflow: visible;
		}

		.svgDiagrams {
			display: flex;
			width: 100%;
			height: 840px;
		}

		.canvas {
			display: flex;
			width: 100%;
			/*flex-direction: column;*/
		}

		.canvas svg {
			font-weight: 700;
			margin-bottom: 2rem;
		}

		.container {
			padding: 1rem;
			width: 100%;
		}

		.tie {
			text-align: center;
			font-size: 20px;
		}

		.tie > .triangle {
			margin: auto;
			width: 10px;
			height: 10px;
			border: 10px solid transparent;
			border-top-color: black;
		}

		.wrapper {
			height: 0;
			padding-bottom: 100%;
			position: relative;
		}

    .senate {
      direction: rtl;
    }

		canvas {
			position: absolute;
			width: 100%;
			height: 100%;
		}
	</style>
</head>

<body>
<!--<div class="svgDiagrams">-->
	<!--<svg-->
		<!--class="senate"-->
		<!--width='50%'-->
		<!--viewBox="0 0 840 840"-->
		<!--xmlns="http://www.w3.org/2000/svg"-->
		<!--xml:lang='he'></svg>-->
	<!--<svg-->
		<!--class="house"-->
		<!--width='50%'-->
		<!--viewBox="0 0 840 840"-->
		<!--xmlns="http://www.w3.org/2000/svg"-->
		<!--xml:lang='he'></svg>-->
<!--</div>-->
<div class="canvas">
	<div class="container senate">
	  <svg
	    class="senateLegend"
	    width="100%"
	    viewBox="0 0 840 210"
	    xmlns="http://www.w3.org/2000/svg"
	  >
	  </svg>
		<div class="tie">
			<span>קו השוויון</span>
			<div class="triangle"></div>
		</div>
		<div class="wrapper">
			<canvas class="senateDiagram" width='840' height='840'></canvas>
		</div>
	</div>
	<div class="container house">
		<svg
			class="houseLegend"
			width="100%"
			viewBox="0 0 840 210"
			xmlns="http://www.w3.org/2000/svg"
		>
		</svg>
		<div class="wrapper">
			<canvas class="houseDiagram" width='840' height='840'></canvas>
		</div>
	</div>
</div>

<script>
	// svgDiagram(d3.selectAll('.svgDiagrams > .senate'), senate, states);
	// svgDiagram(d3.selectAll('.svgDiagrams > .house'), house, states);

	canvasDiagram(d3.selectAll('.canvas .senateDiagram'), d3.selectAll('.canvas .senateLegend'), senate, states);
	canvasDiagram(d3.selectAll('.canvas .houseDiagram'), d3.selectAll('.canvas .houseLegend'), house, states)

</script>
</body>
